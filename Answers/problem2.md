# 問2の解答

## (1)

### `sigma` の型

```ocaml
int -> (int -> int) -> int 
```

### `sigma 3 (fun n -> 2 * n + 1)` の値

f(n) = 2n + 1  
f(0) = 1, f(1) = 3, f(2) = 5, f(3) = 7  
sigma 3 f(n) = 7 + 5 + 3 + 1 = 16  

## (2)
関数呼び出しを一度行うたびにフレームをメモリに確保して、本体式を実行し、終了したら解放して呼び出し元に実行を移す.  
通常フレーム管理はスタックを用いて行うので、呼び出しの段数が増えすぎるとスタック領域が足りなくなってプログラムが異常終了、すなわちスタック・オーバーフローが発生する.

## (3)

```ocaml
let rec calc sum n f =
    if n < 0 then sum else calc (sum + f n) (n-1) f;;

let sigma n f =
    calc 0 n f;;
```

## (4)
末尾呼び出しの最適化を行うことで、再帰関数の呼び出し時に呼び出し側のフレーム領域を解放できるようになり、スタック領域を使い切ることなく実行を続けることができるようになるから.
